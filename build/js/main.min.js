window.Modernizr=function(e,t,o){function i(e){_.cssText=e}function n(e,t){return i(x.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var n=e[i];if(!r(n,"-")&&_[n]!==o)return"pfx"==t?n:!0}return!1}function u(e,t,i){for(var n in e){var r=t[e[n]];if(r!==o)return i===!1?e[n]:a(r,"function")?r.bind(i||t):r}return!1}function l(e,t,o){var i=e.charAt(0).toUpperCase()+e.slice(1),n=(e+" "+C.join(i+" ")+i).split(" ");return a(t,"string")||a(t,"undefined")?s(n,t):(n=(e+" "+E.join(i+" ")+i).split(" "),u(n,t,o))}function d(){g.input=function(o){for(var i=0,n=o.length;n>i;i++)k[o[i]]=!!(o[i]in w);return k.list&&(k.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),k}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),g.inputtypes=function(e){for(var i,n,a,r=0,s=e.length;s>r;r++)w.setAttribute("type",n=e[r]),i="text"!==w.type,i&&(w.value=b,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&w.style.WebkitAppearance!==o?(m.appendChild(w),a=t.defaultView,i=a.getComputedStyle&&"textfield"!==a.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,m.removeChild(w)):/^(search|tel)$/.test(n)||(i=/^(url|email)$/.test(n)?w.checkValidity&&w.checkValidity()===!1:w.value!=b)),A[e[r]]=!!i;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var c,h,f="2.8.3",g={},p=!0,m=t.documentElement,v="modernizr",y=t.createElement(v),_=y.style,w=t.createElement("input"),b=":)",S={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),T="Webkit Moz O ms",C=T.split(" "),E=T.toLowerCase().split(" "),M={svg:"http://www.w3.org/2000/svg"},N={},A={},k={},P=[],H=P.slice,O=function(e,o,i,n){var a,r,s,u,l=t.createElement("div"),d=t.body,c=d||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=n?n[i]:v+(i+1),l.appendChild(s);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(d?l:c).innerHTML+=a,c.appendChild(l),d||(c.style.background="",c.style.overflow="hidden",u=m.style.overflow,m.style.overflow="hidden",m.appendChild(c)),r=o(l,e),d?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),m.style.overflow=u),!!r},z=function(t){var o=e.matchMedia||e.msMatchMedia;if(o)return o(t)&&o(t).matches||!1;var i;return O("@media "+t+" { #"+v+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},L=function(){function e(e,n){n=n||t.createElement(i[e]||"div"),e="on"+e;var r=e in n;return r||(n.setAttribute||(n=t.createElement("div")),n.setAttribute&&n.removeAttribute&&(n.setAttribute(e,""),r=a(n[e],"function"),a(n[e],"undefined")||(n[e]=o),n.removeAttribute(e))),n=null,r}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),I={}.hasOwnProperty;h=a(I,"undefined")||a(I.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return I.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var o=H.call(arguments,1),i=function(){if(this instanceof i){var n=function(){};n.prototype=t.prototype;var a=new n,r=t.apply(a,o.concat(H.call(arguments)));return Object(r)===r?r:a}return t.apply(e,o.concat(H.call(arguments)))};return i}),N.flexbox=function(){return l("flexWrap")},N.flexboxlegacy=function(){return l("boxDirection")},N.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},N.canvastext=function(){return!(!g.canvas||!a(t.createElement("canvas").getContext("2d").fillText,"function"))},N.webgl=function(){return!!e.WebGLRenderingContext},N.touch=function(){var o;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?o=!0:O(["@media (",x.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){o=9===e.offsetTop}),o},N.geolocation=function(){return"geolocation"in navigator},N.postmessage=function(){return!!e.postMessage},N.websqldatabase=function(){return!!e.openDatabase},N.indexedDB=function(){return!!l("indexedDB",e)},N.hashchange=function(){return L("hashchange",e)&&(t.documentMode===o||t.documentMode>7)},N.history=function(){return!(!e.history||!history.pushState)},N.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},N.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},N.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),r(_.backgroundColor,"rgba")},N.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),r(_.backgroundColor,"rgba")||r(_.backgroundColor,"hsla")},N.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(_.background)},N.backgroundsize=function(){return l("backgroundSize")},N.borderimage=function(){return l("borderImage")},N.borderradius=function(){return l("borderRadius")},N.boxshadow=function(){return l("boxShadow")},N.textshadow=function(){return""===t.createElement("div").style.textShadow},N.opacity=function(){return n("opacity:.55"),/^0.55$/.test(_.opacity)},N.cssanimations=function(){return l("animationName")},N.csscolumns=function(){return l("columnCount")},N.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",o="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+x.join(o+e)).slice(0,-e.length)),r(_.backgroundImage,"gradient")},N.cssreflections=function(){return l("boxReflect")},N.csstransforms=function(){return!!l("transform")},N.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in m.style&&O("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},N.csstransitions=function(){return l("transition")},N.fontface=function(){var e;return O('@font-face {font-family:"font";src:url("https://")}',function(o,i){var n=t.getElementById("smodernizr"),a=n.sheet||n.styleSheet,r=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";e=/src/i.test(r)&&0===r.indexOf(i.split(" ")[0])}),e},N.generatedcontent=function(){var e;return O(["#",v,"{font:0/0 a}#",v,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},N.video=function(){var e=t.createElement("video"),o=!1;try{(o=!!e.canPlayType)&&(o=new Boolean(o),o.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),o.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),o.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return o},N.audio=function(){var e=t.createElement("audio"),o=!1;try{(o=!!e.canPlayType)&&(o=new Boolean(o),o.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),o.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),o.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),o.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return o},N.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},N.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},N.webworkers=function(){return!!e.Worker},N.applicationcache=function(){return!!e.applicationCache},N.svg=function(){return!!t.createElementNS&&!!t.createElementNS(M.svg,"svg").createSVGRect},N.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==M.svg},N.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(S.call(t.createElementNS(M.svg,"animate")))},N.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(S.call(t.createElementNS(M.svg,"clipPath")))};for(var j in N)h(N,j)&&(c=j.toLowerCase(),g[c]=N[j](),P.push((g[c]?"":"no-")+c));return g.input||d(),g.addTest=function(e,t){if("object"==typeof e)for(var i in e)h(e,i)&&g.addTest(i,e[i]);else{if(e=e.toLowerCase(),g[e]!==o)return g;t="function"==typeof t?t():t,"undefined"!=typeof p&&p&&(m.className+=" "+(t?"":"no-")+e),g[e]=t}return g},i(""),y=w=null,function(e,t){function o(e,t){var o=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return o.innerHTML="x<style>"+t+"</style>",i.insertBefore(o.lastChild,i.firstChild)}function i(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function n(e){var t=v[e[p]];return t||(t={},m++,e[p]=m,v[m]=t),t}function a(e,o,i){if(o||(o=t),d)return o.createElement(e);i||(i=n(o));var a;return a=i.cache[e]?i.cache[e].cloneNode():g.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:i.frag.appendChild(a)}function r(e,o){if(e||(e=t),d)return e.createDocumentFragment();o=o||n(e);for(var a=o.frag.cloneNode(),r=0,s=i(),u=s.length;u>r;r++)a.createElement(s[r]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(o){return y.shivMethods?a(o,e,t):t.createElem(o)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function u(e){e||(e=t);var i=n(e);return!y.shivCSS||l||i.hasCSS||(i.hasCSS=!!o(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||s(e,i),e}var l,d,c="3.7.0",h=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(o){l=!0,d=!0}}();var y={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:h.shivCSS!==!1,supportsUnknownElements:d,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:u,createElement:a,createDocumentFragment:r};e.html5=y,u(t)}(this,t),g._version=f,g._prefixes=x,g._domPrefixes=E,g._cssomPrefixes=C,g.mq=z,g.hasEvent=L,g.testProp=function(e){return s([e])},g.testAllProps=l,g.testStyles=O,g.prefixed=function(e,t,o){return t?l(e,t,o):l(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+P.join(" "):""),g}(this,this.document),function(){var e={},t=null,o=!0,i=!1;try{"undefined"!=typeof AudioContext?t=new AudioContext:"undefined"!=typeof webkitAudioContext?t=new webkitAudioContext:o=!1}catch(n){o=!1}if(!o)if("undefined"!=typeof Audio)try{new Audio}catch(n){i=!0}else i=!0;if(o){var a="undefined"==typeof t.createGain?t.createGainNode():t.createGain();a.gain.value=1,a.connect(t.destination)}var r=function(e){this._volume=1,this._muted=!1,this.usingWebAudio=o,this.ctx=t,this.noAudio=i,this._howls=[],this._codecs=e,this.iOSAutoEnable=!0};r.prototype={volume:function(e){var t=this;if(e=parseFloat(e),e>=0&&1>=e){t._volume=e,o&&(a.gain.value=e);for(var i in t._howls)if(t._howls.hasOwnProperty(i)&&t._howls[i]._webAudio===!1)for(var n=0;n<t._howls[i]._audioNode.length;n++)t._howls[i]._audioNode[n].volume=t._howls[i]._volume*t._volume;return t}return o?a.gain.value:t._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var t=this;t._muted=e,o&&(a.gain.value=e?0:t._volume);for(var i in t._howls)if(t._howls.hasOwnProperty(i)&&t._howls[i]._webAudio===!1)for(var n=0;n<t._howls[i]._audioNode.length;n++)t._howls[i]._audioNode[n].muted=e},codecs:function(e){return this._codecs[e]},_enableiOSAudio:function(){var e=this;if(!t||!e._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){e._iOSEnabled=!1;var o=function(){var i=t.createBuffer(1,1,22050),n=t.createBufferSource();n.buffer=i,n.connect(t.destination),"undefined"==typeof n.start?n.noteOn(0):n.start(0),setTimeout(function(){(n.playbackState===n.PLAYING_STATE||n.playbackState===n.FINISHED_STATE)&&(e._iOSEnabled=!0,e.iOSAutoEnable=!1,window.removeEventListener("touchstart",o,!1))},0)};return window.addEventListener("touchstart",o,!1),e}}};var s=null,u={};i||(s=new Audio,u={mp3:!!s.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!s.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!s.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!s.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!s.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(s.canPlayType("audio/x-m4a;")||s.canPlayType("audio/m4a;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(s.canPlayType("audio/x-mp4;")||s.canPlayType("audio/mp4;")||s.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!s.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var l=new r(u),d=function(e){var i=this;i._autoplay=e.autoplay||!1,i._buffer=e.buffer||!1,i._duration=e.duration||0,i._format=e.format||null,i._loop=e.loop||!1,i._loaded=!1,i._sprite=e.sprite||{},i._src=e.src||"",i._pos3d=e.pos3d||[0,0,-.5],i._volume=void 0!==e.volume?e.volume:1,i._urls=e.urls||[],i._rate=e.rate||1,i._model=e.model||null,i._onload=[e.onload||function(){}],i._onloaderror=[e.onloaderror||function(){}],i._onend=[e.onend||function(){}],i._onpause=[e.onpause||function(){}],i._onplay=[e.onplay||function(){}],i._onendTimer=[],i._webAudio=o&&!i._buffer,i._audioNode=[],i._webAudio&&i._setupAudioNode(),"undefined"!=typeof t&&t&&l.iOSAutoEnable&&l._enableiOSAudio(),l._howls.push(i),i.load()};if(d.prototype={load:function(){var e=this,t=null;if(i)return e.on("loaderror"),void 0;for(var o=0;o<e._urls.length;o++){var n,a;if(e._format)n=e._format;else{if(a=e._urls[o],n=/^data:audio\/([^;,]+);/i.exec(a),n||(n=/\.([^.]+)$/.exec(a.split("?",1)[0])),!n)return e.on("loaderror"),void 0;n=n[1].toLowerCase()}if(u[n]){t=e._urls[o];break}}if(!t)return e.on("loaderror"),void 0;if(e._src=t,e._webAudio)c(e,t);else{var s=new Audio;s.addEventListener("error",function(){s.error&&4===s.error.code&&(r.noAudio=!0),e.on("loaderror",{type:s.error?s.error.code:0})},!1),e._audioNode.push(s),s.src=t,s._pos=0,s.preload="auto",s.volume=l._muted?0:e._volume*l.volume();var d=function(){e._duration=Math.ceil(10*s.duration)/10,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play(),s.removeEventListener("canplaythrough",d,!1)};s.addEventListener("canplaythrough",d,!1),s.load()}return e},urls:function(e){var t=this;return e?(t.stop(),t._urls="string"==typeof e?[e]:e,t._loaded=!1,t.load(),t):t._urls},play:function(e,o){var i=this;return"function"==typeof e&&(o=e),e&&"function"!=typeof e||(e="_default"),i._loaded?i._sprite[e]?(i._inactiveNode(function(n){n._sprite=e;var a=n._pos>0?n._pos:i._sprite[e][0]/1e3,r=0;i._webAudio?(r=i._sprite[e][1]/1e3-n._pos,n._pos>0&&(a=i._sprite[e][0]/1e3+a)):r=i._sprite[e][1]/1e3-(a-i._sprite[e][0]/1e3);var s,u=!(!i._loop&&!i._sprite[e][2]),d="string"==typeof o?o:Math.round(Date.now()*Math.random())+"";if(function(){var t={id:d,sprite:e,loop:u};s=setTimeout(function(){!i._webAudio&&u&&i.stop(t.id).play(e,t.id),i._webAudio&&!u&&(i._nodeById(t.id).paused=!0,i._nodeById(t.id)._pos=0,i._clearEndTimer(t.id)),i._webAudio||u||i.stop(t.id),i.on("end",d)},1e3*r),i._onendTimer.push({timer:s,id:t.id})}(),i._webAudio){var c=i._sprite[e][0]/1e3,h=i._sprite[e][1]/1e3;n.id=d,n.paused=!1,g(i,[u,c,h],d),i._playStart=t.currentTime,n.gain.value=i._volume,"undefined"==typeof n.bufferSource.start?n.bufferSource.noteGrainOn(0,a,r):n.bufferSource.start(0,a,r)}else{if(4!==n.readyState&&(n.readyState||!navigator.isCocoonJS))return i._clearEndTimer(d),function(){var t=i,a=e,r=o,s=n,u=function(){t.play(a,r),s.removeEventListener("canplaythrough",u,!1)};s.addEventListener("canplaythrough",u,!1)}(),i;n.readyState=4,n.id=d,n.currentTime=a,n.muted=l._muted||n.muted,n.volume=i._volume*l.volume(),setTimeout(function(){n.play()},0)}return i.on("play"),"function"==typeof o&&o(d),i}),i):("function"==typeof o&&o(),i):(i.on("load",function(){i.play(e,o)}),i)},pause:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.pause(e)}),t;t._clearEndTimer(e);var o=e?t._nodeById(e):t._activeNode();if(o)if(o._pos=t.pos(null,e),t._webAudio){if(!o.bufferSource||o.paused)return t;o.paused=!0,"undefined"==typeof o.bufferSource.stop?o.bufferSource.noteOff(0):o.bufferSource.stop(0)}else o.pause();return t.on("pause"),t},stop:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.stop(e)}),t;t._clearEndTimer(e);var o=e?t._nodeById(e):t._activeNode();if(o)if(o._pos=0,t._webAudio){if(!o.bufferSource||o.paused)return t;o.paused=!0,"undefined"==typeof o.bufferSource.stop?o.bufferSource.noteOff(0):o.bufferSource.stop(0)}else isNaN(o.duration)||(o.pause(),o.currentTime=0);return t},mute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.mute(e)}),t;var o=e?t._nodeById(e):t._activeNode();return o&&(t._webAudio?o.gain.value=0:o.muted=!0),t},unmute:function(e){var t=this;if(!t._loaded)return t.on("play",function(){t.unmute(e)}),t;var o=e?t._nodeById(e):t._activeNode();return o&&(t._webAudio?o.gain.value=t._volume:o.muted=!1),t},volume:function(e,t){var o=this;if(e=parseFloat(e),e>=0&&1>=e){if(o._volume=e,!o._loaded)return o.on("play",function(){o.volume(e,t)}),o;var i=t?o._nodeById(t):o._activeNode();return i&&(o._webAudio?i.gain.value=e:i.volume=e*l.volume()),o}return o._volume},loop:function(e){var t=this;return"boolean"==typeof e?(t._loop=e,t):t._loop},sprite:function(e){var t=this;return"object"==typeof e?(t._sprite=e,t):t._sprite},pos:function(e,o){var i=this;if(!i._loaded)return i.on("load",function(){i.pos(e)}),"number"==typeof e?i:i._pos||0;e=parseFloat(e);var n=o?i._nodeById(o):i._activeNode();if(n)return e>=0?(i.pause(o),n._pos=e,i.play(n._sprite,o),i):i._webAudio?n._pos+(t.currentTime-i._playStart):n.currentTime;if(e>=0)return i;for(var a=0;a<i._audioNode.length;a++)if(i._audioNode[a].paused&&4===i._audioNode[a].readyState)return i._webAudio?i._audioNode[a]._pos:i._audioNode[a].currentTime},pos3d:function(e,t,o,i){var n=this;if(t="undefined"!=typeof t&&t?t:0,o="undefined"!=typeof o&&o?o:-.5,!n._loaded)return n.on("play",function(){n.pos3d(e,t,o,i)}),n;if(!(e>=0||0>e))return n._pos3d;if(n._webAudio){var a=i?n._nodeById(i):n._activeNode();a&&(n._pos3d=[e,t,o],a.panner.setPosition(e,t,o),a.panner.panningModel=n._model||"HRTF")}return n},fade:function(e,t,o,i,n){var a=this,r=Math.abs(e-t),s=e>t?"down":"up",u=r/.01,l=o/u;if(!a._loaded)return a.on("load",function(){a.fade(e,t,o,i,n)}),a;a.volume(e,n);for(var d=1;u>=d;d++)!function(){var e=a._volume+("up"===s?.01:-.01)*d,o=Math.round(1e3*e)/1e3,r=t;setTimeout(function(){a.volume(o,n),o===r&&i&&i()},l*d)}()},fadeIn:function(e,t,o){return this.volume(0).play().fade(0,e,t,o)},fadeOut:function(e,t,o,i){var n=this;return n.fade(n._volume,e,t,function(){o&&o(),n.pause(i),n.on("end")},i)},_nodeById:function(e){for(var t=this,o=t._audioNode[0],i=0;i<t._audioNode.length;i++)if(t._audioNode[i].id===e){o=t._audioNode[i];break}return o},_activeNode:function(){for(var e=this,t=null,o=0;o<e._audioNode.length;o++)if(!e._audioNode[o].paused){t=e._audioNode[o];break}return e._drainPool(),t},_inactiveNode:function(e){for(var t=this,o=null,i=0;i<t._audioNode.length;i++)if(t._audioNode[i].paused&&4===t._audioNode[i].readyState){e(t._audioNode[i]),o=!0;break}if(t._drainPool(),!o){var n;if(t._webAudio)n=t._setupAudioNode(),e(n);else{t.load(),n=t._audioNode[t._audioNode.length-1];var a=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",r=function(){n.removeEventListener(a,r,!1),e(n)};n.addEventListener(a,r,!1)}}},_drainPool:function(){var e,t=this,o=0;for(e=0;e<t._audioNode.length;e++)t._audioNode[e].paused&&o++;for(e=t._audioNode.length-1;e>=0&&!(5>=o);e--)t._audioNode[e].paused&&(t._webAudio&&t._audioNode[e].disconnect(0),o--,t._audioNode.splice(e,1))},_clearEndTimer:function(e){for(var t=this,o=0,i=0;i<t._onendTimer.length;i++)if(t._onendTimer[i].id===e){o=i;break}var n=t._onendTimer[o];n&&(clearTimeout(n.timer),t._onendTimer.splice(o,1))},_setupAudioNode:function(){var e=this,o=e._audioNode,i=e._audioNode.length;return o[i]="undefined"==typeof t.createGain?t.createGainNode():t.createGain(),o[i].gain.value=e._volume,o[i].paused=!0,o[i]._pos=0,o[i].readyState=4,o[i].connect(a),o[i].panner=t.createPanner(),o[i].panner.panningModel=e._model||"equalpower",o[i].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),o[i].panner.connect(o[i]),o[i]},on:function(e,t){var o=this,i=o["_on"+e];if("function"==typeof t)i.push(t);else for(var n=0;n<i.length;n++)t?i[n].call(o,t):i[n].call(o);return o},off:function(e,t){var o=this,i=o["_on"+e],n=t?t.toString():null;if(n){for(var a=0;a<i.length;a++)if(n===i[a].toString()){i.splice(a,1);break}}else o["_on"+e]=[];return o},unload:function(){for(var t=this,o=t._audioNode,i=0;i<t._audioNode.length;i++)o[i].paused||(t.stop(o[i].id),t.on("end",o[i].id)),t._webAudio?o[i].disconnect(0):o[i].src="";for(i=0;i<t._onendTimer.length;i++)clearTimeout(t._onendTimer[i].timer);var n=l._howls.indexOf(t);null!==n&&n>=0&&l._howls.splice(n,1),delete e[t._src],t=null}},o)var c=function(t,o){if(o in e)return t._duration=e[o].duration,f(t),void 0;if(/^data:[^;]+;base64,/.test(o)){for(var i=atob(o.split(",")[1]),n=new Uint8Array(i.length),a=0;a<i.length;++a)n[a]=i.charCodeAt(a);h(n.buffer,t,o)}else{var r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType="arraybuffer",r.onload=function(){h(r.response,t,o)},r.onerror=function(){t._webAudio&&(t._buffer=!0,t._webAudio=!1,t._audioNode=[],delete t._gainNode,delete e[o],t.load())};try{r.send()}catch(s){r.onerror()}}},h=function(o,i,n){t.decodeAudioData(o,function(t){t&&(e[n]=t,f(i,t))},function(){i.on("loaderror")})},f=function(e,t){e._duration=t?t.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},g=function(o,i,n){var a=o._nodeById(n);a.bufferSource=t.createBufferSource(),a.bufferSource.buffer=e[o._src],a.bufferSource.connect(a.panner),a.bufferSource.loop=i[0],i[0]&&(a.bufferSource.loopStart=i[1],a.bufferSource.loopEnd=i[1]+i[2]),a.bufferSource.playbackRate.value=o._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:l,Howl:d}}),"undefined"!=typeof exports&&(exports.Howler=l,exports.Howl=d),"undefined"!=typeof window&&(window.Howler=l,window.Howl=d)}(),g={},Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))},Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)},Storage.prototype.removeObject=function(e){this.removeItem(e)},g.Storage=function(e){this.namespace=e,this.obj=localStorage.getObject(this.namespace)||{}},g.Storage.prototype.get=function(e){return this.obj[e]},g.Storage.prototype.set=function(e,t){this.obj[e]=t,this.sync()},g.Storage.prototype.sync=function(){localStorage.setObject(this.namespace,this.obj)},g.Storage.reset=function(){this.obj={},this.sync()},g.Group=function(){this.collection=[],this.length=0},g.Group.prototype.push=function(e){return this.length++,this.collection.push(e)},g.Group.prototype.pop=function(){return this.length--,this.collection.pop()},g.Group.prototype.unshift=function(e){return this.length++,this.collection.unshift(e)},g.Group.prototype.shift=function(){return this.length--,this.collection.shift()},g.Group.prototype.getAt=function(e){return this.collection[e]},g.Group.prototype.getByPropVal=function(e,t){var o=null;return this.each(function(i){return i[e]==t?(o=i,void 0):void 0},0,this),o},g.Group.prototype.removeAt=function(e){e<this.length&&(this.collection.splice(e,1),this.length--)},g.Group.prototype.remove=function(e){var t=this.collection.indexOf(e);t>-1&&(this.collection.splice(t,1),this.length--)},g.Group.prototype.empty=function(){this.collection.length=0,this.length=0},g.Group.prototype.each=function(e,t,o){var i,n=this.length,a=g.isString(e),r=o||window;if(t)for(i=0;n>i;i++)a?this.collection[i][e](i):e.bind(r,this.collection[i],i,this.collection)();else for(i=n;i--;)a?this.collection[i][e](i):e.bind(r,this.collection[i],i,this.collection)()},g.Pool=function(e,t){this.base=e,this.preallocateAmount=t||0,this.alive=[],this.dead=[],this.length=0,this.deadLength=0,this.preallocateAmount&&this.preallocate()},g.Pool.prototype.preallocate=function(){for(var e=0;e<this.preallocateAmount;e++)this.dead.push(new this.base),this.deadLength++},g.Pool.prototype.create=function(e){if(this.deadLength){var t=this.dead.pop();t.init(e),this.alive.push(t),this.deadLength--,this.length++}else{var o=new this.base;o.init(e),this.alive.push(o),this.length++}},g.Pool.prototype.release=function(e){var t=this.alive.indexOf(e);t>-1&&(this.dead.push(this.alive.splice(t,1)[0]),this.length--,this.deadLength++)},g.Pool.prototype.empty=function(){this.alive.length=0,this.dead.length=0,this.length=0,this.deadLength=0},g.Pool.prototype.each=function(e){for(var t=this.length;t--;)this.alive[t]&&this.alive[t][e](t)},g.rand=function(e,t){return Math.random()*(t-e)+e},g.randInt=function(e,t){return Math.floor(e+Math.random()*(t-e+1))},g.qS=function(e){var t=document.querySelectorAll(e);return t.length>1?t:t[0]},g.cE=function(e,t){var o=document.createElement("div");return e&&e.appendChild(o),t&&g.addClass(o,t),o},g.on=function(e,t,o,i){i=i||window,e.addEventListener(t,o.bind(i))},g.text=function(e,t){e.firstChild.nodeValue=t},g.resetAnim=function(e){g.removeClass(e,"anim"),e.offsetWidth=e.offsetWidth,g.addClass(e,"anim")},g.prefixElement=g.cE(),g.prefixMatches={},g.prefixCheck=function(e){if(g.prefixMatches[e])return[g.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],o=function(e){return e.toUpperCase()},i=0,n=t.length;n>i;i++){var a;if(a=0===i?e:t[i]+e.replace(/^\w/,o),g.isString(g.prefixElement.style[a]))return g.prefixMatches[e]=a,[a,!0]}return[e,!1]},g.css=function(e,t,o){if(g.isObject(t)){var i=t;for(t in i)i.hasOwnProperty(t)&&g.css(e,t,i[t])}else t=g.prefixCheck(t),t[1]&&(e.style[t[0]]=o)},g.hasClass=function(e,t){return t?e.classList.contains(t):void 0},g.addClass=function(e,t){t.length&&(-1!=t.indexOf(" ")?(classes=t.split(" "),classes.forEach(function(t){g.hasClass(e,t)||g.addClass(e,t)})):e.classList.add(t))},g.removeClass=function(e,t){-1!=t.indexOf(" ")?(classes=t.split(" "),classes.forEach(function(t){g.hasClass(e,t)&&g.removeClass(e,t)})):e.classList.remove(t)},g.attr=function(e,t){return e.getAttribute(t)},g.distance=function(e,t,o,i){var n=e-o,a=t-i;return Math.sqrt(n*n+a*a)},g.rangeIntersect=function(e,t,o,i){return Math.max(e,t)>=Math.min(o,i)&&Math.min(e,t)<=Math.max(o,i)},g.collide=function(e,t){return g.rangeIntersect(e.x,e.x+e.width,t.x,t.x+t.width)&&g.rangeIntersect(e.y,e.y+e.height,t.y,t.y+t.height)},g.formatCommas=function(e){return e=Math.round(e),e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},g.pad=function(e,t){return e+="",e.length<t?(e="0"+e,g.pad(e,t)):e},g.msToString=function(e){var t=e/1e3,o=parseInt(t%60);t/=60;var i=parseInt(t%60);t/=60;var n=parseInt(t%24);return g.pad(n,2)+":"+g.pad(i,2)+":"+g.pad(o,2)},g.isString=function(e){return"string"==typeof e},g.isObject=function(e){return"object"==typeof e},g.isSet=function(e){return"undefined"!=typeof e},g.isObjEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},g.merge=function(e,t){for(var o in t)e[o]=t[o]},g.Enemy=function(){this.dom=g.cE(g.qS(".game"),"enemy"),g.css(this.dom,"transform","translate3d(-999px , -999px, 0)")},g.Enemy.prototype.init=function(e){g.merge(this,e),this.guid=g.guid++,this.width=g.sizeSmall,this.height=g.sizeSmall,this.start=g.randInt(0,11),this.x=0,this.y=0,this.vx=0,this.vy=0,this.setInitialPosVel(),this.hue=this.state.hue,this.distanceTraveled=0,this.opacity=1,this.scored=0,g.removeClass(this.dom,"dead"),g.css(this.dom,{background:"hsla("+this.hue+", 100%, 65%, 1)",transform:"translate3d("+this.x+"px , "+this.y+"px, 0)"})},g.Enemy.prototype.setInitialPosVel=function(){[0,1,2].indexOf(this.start)>-1&&(this.y=-this.height,this.vy=this.state.velocity),[3,4,5].indexOf(this.start)>-1&&(this.x=g.width,this.vx=-this.state.velocity),[6,7,8].indexOf(this.start)>-1&&(this.y=g.height,this.vy=-this.state.velocity),[9,10,11].indexOf(this.start)>-1&&(this.x=-this.width,this.vx=this.state.velocity),[0,6].indexOf(this.start)>-1&&(this.x=g.tileTargetMap[0].x,this.lineRef=0),[1,7].indexOf(this.start)>-1&&(this.x=g.tileTargetMap[1].x,this.lineRef=1),[2,8].indexOf(this.start)>-1&&(this.x=g.tileTargetMap[2].x,this.lineRef=2),[3,9].indexOf(this.start)>-1&&(this.y=g.tileTargetMap[0].y,this.lineRef=3),[4,10].indexOf(this.start)>-1&&(this.y=g.tileTargetMap[3].y,this.lineRef=4),[5,11].indexOf(this.start)>-1&&(this.y=g.tileTargetMap[6].y,this.lineRef=5),this.state.lines[this.lineRef]++,g.addClass(this.state.dom.lines[this.lineRef],"active")},g.Enemy.prototype.collide=function(){!this.state.hero.dead&&g.collide(this.state.hero.hitbox,this)&&(this.state.hero.dead=1,this.state.gameover())},g.Enemy.prototype.step=function(){this.x+=this.vx,this.y+=this.vy,this.distanceTraveled+=this.vx+this.vy,Math.abs(this.distanceTraveled)>490&&(this.opacity-=.025,g.css(this.dom,{background:"#fff"}),g.addClass(this.dom,"dead"),this.scored||(this.state.increaseScore(),this.scored=1)),this.opacity<=0&&(this.state.lines[this.lineRef]--,this.state.lines[this.lineRef]<=0&&g.removeClass(this.state.dom.lines[this.lineRef],"active"),this.destroy())},g.Enemy.prototype.draw=function(){g.css(this.dom,{opacity:this.opacity,transform:"translate3d("+this.x+"px , "+this.y+"px, 0)"})},g.Enemy.prototype.destroy=function(){g.css(this.dom,"transform","translate3d(-999px , -999px, 0)"),this.state.enemies.release(this)},g.Hero=function(e){g.merge(this,e),this.init()},g.Hero.prototype.init=function(){this.guid=g.guid++,this.width=g.sizeSmall,this.height=g.sizeSmall,this.hitboxOffset=5,this.hitbox={},this.easing=.6,this.restart(),this.dom={},this.dom.hero=g.cE(g.dom.game,"hero"),g.css(this.dom.hero,{transform:"translate3d("+this.x+"px , "+this.y+"px, 0)"}),g.on(window,"keydown",this.onKeydown,this),g.on(window,"keyup",this.onKeyup,this)},g.Hero.prototype.restart=function(){this.col=1,this.row=1,this.tileCurrent=4,this.tileTarget=4,this.canMove={up:1,right:1,down:1,left:1},this.x=g.tileTargetMap[this.tileCurrent].x,this.y=g.tileTargetMap[this.tileCurrent].y,this.dead=0;for(var e=0,t=this.state.dom.tiles.length;t>e;e++)g.removeClass(this.state.dom.tiles[e],"current");g.addClass(this.state.dom.tiles[this.tileTarget],"current")},g.Hero.prototype.onKeydown=function(e){var t=e.keyCode?e.keyCode:e.which,o=0;!this.canMove.up||38!==t&&87!==t||(0!==this.row&&(this.row--,o=1),this.canMove.up=0),!this.canMove.right||39!==t&&68!==t||(2!==this.col&&(this.col++,o=1),this.canMove.right=0),!this.canMove.down||40!==t&&83!==t||(2!==this.row&&(this.row++,o=1),this.canMove.down=0),!this.canMove.left||37!==t&&65!==t||(0!==this.col&&(this.col--,o=1),this.canMove.left=0),!this.state.playing&&o&&(this.state.playing=1,this.state.dom.scoreCurrent.textContent=g.pad(this.state.score,3),g.addClass(this.state.dom.instructions,"hidden"),this.state.time.start=Date.now(),this.state.time.last=Date.now()),o&&(g.audio.move.play(),g.storage.set("totalMoves",g.storage.get("totalMoves")+1),this.state.dom.statsMoves.textContent=g.formatCommas(g.storage.get("totalMoves"))),this.tileTarget=3*this.row+this.col;
for(var i=0,n=this.state.dom.tiles.length;n>i;i++)g.removeClass(this.state.dom.tiles[i],"current");g.addClass(this.state.dom.tiles[this.tileTarget],"current")},g.Hero.prototype.onKeyup=function(e){var t=e.keyCode?e.keyCode:e.which;(38===t||87===t)&&(this.canMove.up=1),(39===t||68===t)&&(this.canMove.right=1),(40===t||83===t)&&(this.canMove.down=1),(37===t||65===t)&&(this.canMove.left=1)},g.Hero.prototype.move=function(){this.x+=(g.tileTargetMap[this.tileTarget].x-this.x)*this.easing,this.y+=(g.tileTargetMap[this.tileTarget].y-this.y)*this.easing,this.hitbox={x:this.x+this.hitboxOffset,y:this.y+this.hitboxOffset,width:this.width-2*this.hitboxOffset,height:this.height-2*this.hitboxOffset}},g.Hero.prototype.step=function(){this.move()},g.Hero.prototype.draw=function(){g.css(this.dom.hero,"transform","translate3d("+this.x+"px , "+this.y+"px, 0)")};var StatePlay=function(){};StatePlay.prototype.init=function(){this.dom={},this.dom.tiles=g.qS(".tile"),this.dom.overlay=g.qS(".overlay"),this.dom.lines=g.qS(".line"),this.dom.scoreCurrent=g.qS(".score-current-text"),this.dom.scoreBest=g.qS(".score-best-text"),this.dom.instructions=g.qS(".instructions"),this.dom.statsMoves=g.qS(".stats-moves-text"),this.dom.statsDeaths=g.qS(".stats-deaths-text"),this.dom.statsTime=g.qS(".stats-time-text"),this.enemies=new g.Pool(g.Enemy,20),this.hero=new g.Hero({state:this}),this.canKeydown=1,g.on(window,"keydown",this.onKeydown,this),g.on(window,"keyup",this.onKeyup,this),this.restart()},StatePlay.prototype.onKeydown=function(e){var t=e.keyCode?e.keyCode:e.which;if(77===t&&this.canKeydown){var o=g.storage.get("mute");this.canKeydown=0,o?(g.storage.set("mute",0),Howler.unmute(),g.audio.music.stop(),g.audio.music.play()):(g.storage.set("mute",1),Howler.mute())}},StatePlay.prototype.onKeyup=function(e){var t=e.keyCode?e.keyCode:e.which;77===t&&(this.canKeydown=1)},StatePlay.prototype.restart=function(){this.time={start:Date.now(),last:Date.now(),diff:0,current:0,elapsed:0,tick:0},this.spawner={tick:0,max:45,delay:45},this.level={tick:0,max:300},this.lines=[0,0,0,0,0,0];for(var e=0,t=this.dom.lines.length;t>e;e++)g.removeClass(this.dom.lines[e],"active");this.score=0,this.playing=0,this.velocity=4.5,this.hue=0,g.css(this.dom.overlay,{background:"hsla("+this.hue+", 100%, 50%, 0.2)"}),g.removeClass(this.dom.instructions,"hidden"),this.dom.scoreBest.textContent=g.pad(Math.max(this.score,g.storage.get("bestScore")),3),this.dom.statsMoves.textContent=g.formatCommas(g.storage.get("totalMoves")),this.dom.statsDeaths.textContent=g.formatCommas(g.storage.get("totalDeaths")),this.dom.statsTime.textContent=g.msToString(g.storage.get("totalTime")),this.hero.restart()},StatePlay.prototype.stepTime=function(){this.time.current=Date.now(),this.time.diff=this.time.current-this.time.last,this.time.elapsed=this.time.current-this.time.start,this.time.tick++,this.time.last=this.time.current,g.storage.set("totalTime",g.storage.get("totalTime")+this.time.diff),this.dom.statsTime.textContent=g.msToString(g.storage.get("totalTime"))},StatePlay.prototype.stepSpawner=function(){this.spawner.tick++,this.time.tick>=this.spawner.delay&&this.spawner.tick%this.spawner.max===0&&(this.enemies.create({state:this}),this.spawner.tick=0)},StatePlay.prototype.stepLevel=function(){this.level.tick++,this.level.tick>=this.level.max&&(this.level.tick=0,this.spawner.max-=1,this.velocity+=.35,this.hue+=30,g.css(this.dom.overlay,{background:"hsla("+this.hue+", 100%, 50%, 0.2)"}))},StatePlay.prototype.increaseScore=function(){this.score++,this.dom.scoreCurrent.textContent=g.pad(this.score,3),this.dom.scoreBest.textContent=g.pad(Math.max(this.score,g.storage.get("bestScore")),3)},StatePlay.prototype.gameover=function(){g.audio.death1.play(),g.audio.death2.play(),this.enemies.each("destroy"),this.score>g.storage.get("bestScore")&&g.storage.set("bestScore",this.score),g.storage.set("totalScore",g.storage.get("totalScore")+this.score),g.storage.set("totalDeaths",g.storage.get("totalDeaths")+1),this.dom.statsDeaths.textContent=g.formatCommas(g.storage.get("totalDeaths")),this.restart()},StatePlay.prototype.step=function(){this.hero&&!this.hero.dead&&(this.playing&&(this.stepTime(),this.stepSpawner(),this.stepLevel(),this.enemies.each("step"),this.enemies.each("collide")),this.hero.step())},StatePlay.prototype.draw=function(){this.hero&&!this.hero.dead&&(this.enemies.each("draw"),this.hero.draw())},g.init=function(){g.guid=0,g.width=800,g.height=800,g.center=400,g.size=60,g.sizeSmall=g.size/3,g.sizeSmallHalf=g.sizeSmall/2,g.ratio=g.height/g.width,g.scale=1,g.storage=new g.Storage("avoid-rage"),g.isObjEmpty(g.storage.obj)&&(g.storage.set("bestScore",0),g.storage.set("totalScore",0),g.storage.set("totalMoves",0),g.storage.set("totalDeaths",0),g.storage.set("totalTime",0),g.storage.set("mute",0)),g.tileTargetMap=[{x:g.center-g.size-g.sizeSmallHalf,y:g.center-g.size-g.sizeSmallHalf},{x:g.center-g.sizeSmallHalf,y:g.center-g.size-g.sizeSmallHalf},{x:g.center+g.size-g.sizeSmallHalf,y:g.center-g.size-g.sizeSmallHalf},{x:g.center-g.size-g.sizeSmallHalf,y:g.center-g.sizeSmallHalf},{x:g.center-g.sizeSmallHalf,y:g.center-g.sizeSmallHalf},{x:g.center+g.size-g.sizeSmallHalf,y:g.center-g.sizeSmallHalf},{x:g.center-g.size-g.sizeSmallHalf,y:g.center+g.size-g.sizeSmallHalf},{x:g.center-g.sizeSmallHalf,y:g.center+g.size-g.sizeSmallHalf},{x:g.center+g.size-g.sizeSmallHalf,y:g.center+g.size-g.sizeSmallHalf}],g.dom={},g.dom.game=g.qS(".game"),g.dom.html=g.qS("html"),g.on(window,"resize",g.onResize),g.audio={},this.audioLoaded=0,this.audioTotal=0,g.storage.get("mute")?Howler.mute():Howler.unmute(),g.audio.music=new Howl({urls:["audio/music.ogg","audio/music.mp3","audio/music.wav"],volume:.6,autoplay:!0,loop:!0,onload:function(){g.loadAudio()}}),this.audioTotal++,g.audio.move=new Howl({urls:["audio/move.ogg","audio/move.mp3","audio/move.wav"],volume:1,onload:function(){g.loadAudio()}}),this.audioTotal++,g.audio.death1=new Howl({urls:["audio/death1.ogg","audio/death1.mp3","audio/death1.wav"],volume:.8,onload:function(){g.loadAudio()}}),this.audioTotal++,g.audio.death2=new Howl({urls:["audio/death2.ogg","audio/death2.mp3","audio/death2.wav"],volume:.8,onload:function(){g.loadAudio()}}),this.audioTotal++},g.loadAudio=function(){g.audioLoaded++,g.audioLoaded>=g.audioTotal&&(g.addClass(g.dom.html,"loaded"),g.play=new StatePlay,g.play.init(),g.onResize(),g.step())},g.step=function(){requestAnimationFrame(g.step),g.play.step(),g.play.draw()},g.onResize=function(){g.winWidth=window.innerWidth,g.winHeight=window.innerHeight,g.winRatio=g.winHeight/g.winWidth,g.scale=g.winRatio>g.ratio?g.winWidth/g.width*1:g.winHeight/g.height*1,g.scale=Math.min(g.scale,1),g.css(g.dom.game,"transform","translate(-50%, -50%) scale("+g.scale+")",1)},g.init();